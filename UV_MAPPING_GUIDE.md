# TripoSG UVåæ ‡æ˜ å°„åŠŸèƒ½ä½¿ç”¨æŒ‡å—

## ğŸ¯ åŠŸèƒ½æ¦‚è¿°

ç°åœ¨ TripoSG çš„ `inference_triposg.py` è„šæœ¬æ”¯æŒåœ¨ç”Ÿæˆ GLB æ–‡ä»¶æ—¶è‡ªåŠ¨æ·»åŠ  UV åæ ‡æ˜ å°„ä¿¡æ¯ï¼Œè¿™å°†å¤§å¤§æ”¹å–„åç»­çº¹ç†æ˜ å°„çš„æ•ˆæœï¼Œè§£å†³åŸå›¾è´´å›¾é”™ä½é—®é¢˜ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### åŸºç¡€ç”¨æ³•ï¼ˆä¸ç”ŸæˆUVåæ ‡ï¼‰
```bash
python scripts/inference_triposg.py \
  --image-input your_image.jpg \
  --output-path output.glb
```

### ç”ŸæˆUVåæ ‡ï¼ˆæ¨èï¼‰
```bash
python scripts/inference_triposg.py \
  --image-input your_image.jpg \
  --output-path output_with_uv.glb \
  --generate-uv
```

### æŒ‡å®šUVæ˜ å°„æ–¹æ³•
```bash
python scripts/inference_triposg.py \
  --image-input your_image.jpg \
  --output-path output_spherical.glb \
  --generate-uv \
  --uv-method spherical
```

## ğŸ“‹ å‘½ä»¤è¡Œå‚æ•°

### åŸºç¡€å‚æ•°
- `--image-input`: è¾“å…¥å›¾åƒè·¯å¾„ï¼ˆå¿…éœ€ï¼‰
- `--output-path`: è¾“å‡ºGLBæ–‡ä»¶è·¯å¾„ï¼ˆé»˜è®¤: `./output.glb`ï¼‰
- `--seed`: éšæœºç§å­ï¼ˆé»˜è®¤: 42ï¼‰
- `--num-inference-steps`: æ¨ç†æ­¥æ•°ï¼ˆé»˜è®¤: 50ï¼‰
- `--guidance-scale`: å¼•å¯¼å°ºåº¦ï¼ˆé»˜è®¤: 7.0ï¼‰
- `--faces`: ç›®æ ‡é¢æ•°ï¼Œ-1è¡¨ç¤ºä¸ç®€åŒ–ï¼ˆé»˜è®¤: -1ï¼‰

### UVåæ ‡å‚æ•°
- `--generate-uv`: å¯ç”¨UVåæ ‡ç”Ÿæˆï¼ˆæ ‡å¿—å‚æ•°ï¼‰
- `--uv-method`: UVæ˜ å°„æ–¹æ³•ï¼Œå¯é€‰å€¼ï¼š
  - `smart`: æ™ºèƒ½æŠ•å½±ï¼ˆé»˜è®¤ï¼Œè‡ªåŠ¨é€‰æ‹©æœ€ä½³æ–¹æ³•ï¼‰
  - `spherical`: çƒé¢æŠ•å½±
  - `cylindrical`: æŸ±é¢æŠ•å½±
  - `planar`: å¹³é¢æŠ•å½±

## ğŸ—ºï¸ UVæ˜ å°„æ–¹æ³•è¯¦è§£

### 1. æ™ºèƒ½æŠ•å½± (smart) - æ¨è
```bash
--uv-method smart
```
**ç‰¹ç‚¹**ï¼š
- è‡ªåŠ¨åˆ†æç½‘æ ¼å½¢çŠ¶ç‰¹å¾
- æ ¹æ®å½¢çŠ¶æ¯”ç‡é€‰æ‹©æœ€ä½³æŠ•å½±æ–¹æ³•
- é€‚ç”¨äºå¤§å¤šæ•°åœºæ™¯

**é€‰æ‹©é€»è¾‘**ï¼š
- çƒå½¢ç‰©ä½“ â†’ çƒé¢æŠ•å½±
- æŸ±å½¢ç‰©ä½“ â†’ æŸ±é¢æŠ•å½±  
- æ‰å¹³ç‰©ä½“ â†’ å¹³é¢æŠ•å½±

### 2. çƒé¢æŠ•å½± (spherical)
```bash
--uv-method spherical
```
**é€‚ç”¨åœºæ™¯**ï¼š
- äººç‰©ã€åŠ¨ç‰©æ¨¡å‹
- çƒå½¢æˆ–æ¥è¿‘çƒå½¢çš„ç‰©ä½“
- éœ€è¦å‡åŒ€çº¹ç†åˆ†å¸ƒçš„æ¨¡å‹

**ä¼˜ç‚¹**ï¼š
- çº¹ç†åˆ†å¸ƒå‡åŒ€
- ä¸»è½´è‡ªåŠ¨å¯¹é½
- å¤„ç†æç‚¹å¥‡å¼‚æ€§

### 3. æŸ±é¢æŠ•å½± (cylindrical)
```bash
--uv-method cylindrical
```
**é€‚ç”¨åœºæ™¯**ï¼š
- å»ºç­‘ç‰©ã€æŸ±å­
- ç“¶å­ã€ç½å­ç­‰æŸ±çŠ¶ç‰©ä½“
- å…·æœ‰æ˜æ˜¾ä¸»è½´çš„ç‰©ä½“

**ä¼˜ç‚¹**ï¼š
- ä¸»è½´è‡ªåŠ¨æ£€æµ‹å’Œå¯¹é½
- é«˜åº¦æ–¹å‘çº¹ç†è¿ç»­
- é€‚åˆæœ‰æ˜æ˜¾æ–¹å‘æ€§çš„ç‰©ä½“

### 4. å¹³é¢æŠ•å½± (planar)
```bash
--uv-method planar
```
**é€‚ç”¨åœºæ™¯**ï¼š
- æ‰å¹³ç‰©ä½“
- å¾½ç« ã€æ ‡ç‰Œ
- ç›¸å¯¹å¹³å¦çš„è¡¨é¢

**ä¼˜ç‚¹**ï¼š
- æœ€å°çš„çº¹ç†å¤±çœŸ
- è‡ªåŠ¨é€‰æ‹©æœ€ä½³æŠ•å½±æ–¹å‘
- é€‚åˆå¹³é¢æˆ–æ¥è¿‘å¹³é¢çš„ç‰©ä½“

## ğŸ“Š è¾“å‡ºä¿¡æ¯è§£è¯»

ç”Ÿæˆå®Œæˆåï¼Œè„šæœ¬ä¼šæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ï¼š

```
âœ… 3Dæ¨¡å‹ç”Ÿæˆå®Œæˆ!
ğŸ“ è¾“å‡ºæ–‡ä»¶: output_with_uv.glb
ğŸ“Š ç½‘æ ¼ä¿¡æ¯:
  - é¡¶ç‚¹æ•°: 12543
  - é¢æ•°: 25086
  - UVåæ ‡: âœ… å·²ç”Ÿæˆ (12543 ä¸ª)
  - UVæ˜ å°„æ–¹æ³•: smart
```

## ğŸ”§ é«˜çº§ç”¨æ³•

### é«˜è´¨é‡ç”Ÿæˆ
```bash
python scripts/inference_triposg.py \
  --image-input portrait.jpg \
  --output-path high_quality.glb \
  --generate-uv \
  --uv-method spherical \
  --num-inference-steps 100 \
  --guidance-scale 8.0
```

### ç®€åŒ–ç½‘æ ¼å¹¶ä¿æŒUVåæ ‡
```bash
python scripts/inference_triposg.py \
  --image-input model.jpg \
  --output-path simplified.glb \
  --generate-uv \
  --faces 5000
```

## ğŸ¨ ä¸çº¹ç†æ˜ å°„å·¥å…·é…åˆä½¿ç”¨

ç”Ÿæˆå¸¦UVåæ ‡çš„GLBæ–‡ä»¶åï¼Œå¯ä»¥ç›´æ¥ç”¨äºç°æœ‰çš„çº¹ç†æ˜ å°„å·¥å…·ï¼š

### 1. è§’è‰²çº¹ç†æ˜ å°„
```bash
python character_texture_mapping.py \
  --mesh output_with_uv.glb \
  --image original_image.jpg \
  --output textured_character.glb
```

### 2. è¯­ä¹‰çº¹ç†æ˜ å°„
```bash
python semantic_image_texture_mapping.py \
  --mesh output_with_uv.glb \
  --image original_image.jpg \
  --output semantic_textured.glb
```

### 3. é«˜çº§çº¹ç†æ˜ å°„
```bash
python advanced_texture_mapping.py \
  --mesh output_with_uv.glb \
  --image original_image.jpg \
  --output advanced_textured.glb
```

## ğŸ” æµ‹è¯•åŠŸèƒ½

è¿è¡Œæµ‹è¯•è„šæœ¬éªŒè¯UVç”ŸæˆåŠŸèƒ½ï¼š

```bash
python test_uv_generation.py
```

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **å‘åå…¼å®¹æ€§**ï¼šé»˜è®¤ä¸ç”ŸæˆUVåæ ‡ï¼Œéœ€è¦æ˜ç¡®æŒ‡å®š `--generate-uv`
2. **ç½‘æ ¼ç®€åŒ–**ï¼šå¦‚æœæŒ‡å®šäº† `--faces` å‚æ•°ï¼ŒUVåæ ‡ä¼šåœ¨ç®€åŒ–åé‡æ–°ç”Ÿæˆ
3. **æ€§èƒ½å½±å“**ï¼šç”ŸæˆUVåæ ‡ä¼šå¢åŠ å°‘é‡è®¡ç®—æ—¶é—´
4. **æ–‡ä»¶å¤§å°**ï¼šå¸¦UVåæ ‡çš„GLBæ–‡ä»¶ä¼šç¨å¤§ä¸€äº›

## ğŸ› æ•…éšœæ’é™¤

### é—®é¢˜ï¼šUVåæ ‡è¶…å‡º[0,1]èŒƒå›´
**è§£å†³æ–¹æ¡ˆ**ï¼šè„šæœ¬ä¼šè‡ªåŠ¨è£å‰ªåˆ°æœ‰æ•ˆèŒƒå›´ï¼Œå¦‚æœä»æœ‰é—®é¢˜ï¼Œå°è¯•ä¸åŒçš„UVæ˜ å°„æ–¹æ³•

### é—®é¢˜ï¼šçº¹ç†æ˜ å°„ä»ç„¶é”™ä½
**è§£å†³æ–¹æ¡ˆ**ï¼š
1. å°è¯•ä¸åŒçš„UVæ˜ å°„æ–¹æ³•
2. æ£€æŸ¥åŸå§‹å›¾åƒè´¨é‡
3. ä½¿ç”¨è¯­ä¹‰æ„ŸçŸ¥çš„çº¹ç†æ˜ å°„å·¥å…·

### é—®é¢˜ï¼šç”Ÿæˆçš„UVåæ ‡è´¨é‡ä¸ä½³
**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ä½¿ç”¨ `smart` æ–¹æ³•è®©ç³»ç»Ÿè‡ªåŠ¨é€‰æ‹©
2. æ ¹æ®ç‰©ä½“ç±»å‹æ‰‹åŠ¨é€‰æ‹©åˆé€‚çš„æŠ•å½±æ–¹æ³•
3. æ£€æŸ¥ç½‘æ ¼è´¨é‡ï¼Œå¿…è¦æ—¶è°ƒæ•´æ¨ç†å‚æ•°

## ğŸ‰ æ€»ç»“

é€šè¿‡æ·»åŠ UVåæ ‡æ˜ å°„åŠŸèƒ½ï¼ŒTripoSGç°åœ¨å¯ä»¥ç”Ÿæˆæ›´é€‚åˆçº¹ç†å¤„ç†çš„3Dæ¨¡å‹ï¼Œä¸ºåç»­çš„åŸå›¾è´´å›¾å¤„ç†æä¾›äº†åšå®çš„åŸºç¡€ã€‚å»ºè®®åœ¨æ‰€æœ‰éœ€è¦çº¹ç†æ˜ å°„çš„åœºæ™¯ä¸­éƒ½å¯ç”¨æ­¤åŠŸèƒ½ã€‚
